■ Everyday English 要求仕様

■ アプリ名
・Everyday English


■ 開発環境
・Google Spread Sheet
・Google App Script


■ Google Spread Sheet
・スプレッドシート名：EverydayEnglishData
・シート名：Data
・A列：ID
　　　　上から連番。初期値1
・B列：Category_No
　　　　カテゴリ毎の番号。初期値1
・C列：Category
　　　　カテゴリ名。
　　　　例）・アメリカ6歳 毎朝使う かんたん英語
　　　　　　・アメリカ6歳 毎朝友人に話す かんたん英語
・D列：No
　　　　各カテゴリ内の文毎の番号。初期値1
・E列：Q_Title
　　　　質問セクションのタイトル。
　　　　例）・Japanese
・F列：Question
　　　　質問文。
　　　　例）・おはよう！
　　　　　　・もう起きてるよ。
・G列：A_Title
　　　　回答セクションのタイトル。
　　　　例）・English
・H列：Answer
　　　　回答文。
　　　　例）・Good morning!
　　　　　　・I'm awake now.
・I列：note
　　　　補足説明。
　　　　例）華氏100度=摂氏37.8度
・一行目はヘッダー行
・データはCategory_No、Noの順でソート済み


■ Google App Script
・機能
　(1)Webアプリ
　(2)初期画面を表示
　　　サンプル：画面1.png
　(3)ドロップダウンリストを選択。
　　　ドロップダウンには、スプレッドシートのCategory_NoとCategoryを連結した
　　　文字列を表示。
　　　例）・1-アメリカ6歳 毎朝使う かんたん英語
　　　　　・2-アメリカ6歳 毎朝友人に話す かんたん英語
　(4)ドロップダウンで選択したCategoryのNoとQuestionを表形式で表示する。
　　　テーブルのヘッダーは、スプレッドシートのQ_Title列の値を動的に表示する。
　　　出題数も表示する。形式は、[現在の出題No/当該Categoryの総No数]とする。
　　　表のスクロール対応が必要。
　　　初期画面全体のスクロールはさせず、Listテーブルのみスクロール可能とする。
　　　タイトル、学習時間、Categoryセクションは固定表示とする。
　　　スプレッドシートのQuestion列に改行がある場合、改行を保持して表示する。
　　　サンプル：画面2.png
　(4.5)Listの該当Noの行をクリックしたら、その行のAnswerとnoteをモーダルポップアップで表示する。
　　　モーダルは画面中央に表示し、背景は半透明の黒で覆う。
　　　モーダルの横幅は画面幅の80%で固定表示する。
　　　モーダル内のセクションラベルは、スプレッドシートのA_Title列の値を動的に表示する。
　　　モーダル内には「note:」セクションも表示する。
　　　noteがない場合は、noteセクションは非表示とする。
　　　スプレッドシートのAnswer列またはnote列に改行がある場合、改行を保持して表示する。
　　　モーダルは以下の方法で閉じることができる。
　　　・右上の×ボタンをクリック
　　　・背景（オーバーレイ）をクリック
　　　・ESCキーを押す
　(5)Categoryのドロップダウン操作でList更新。STARTボタン押下で画面遷移。
　　　STARTボタンは画面下端に固定表示し、スクロールしても常に表示される。
　　　STARTボタンの下端マージンは5pxとする。
　　　ListとSTARTボタンの間に背景画像が見えるように適切な間隔を確保する。
　　　Listの高さを調整し、背景画像が見えるようにする。
　　　サンプル：画面3.png
　(6)Categoryのドロップダウン選択時に学習時間のカウントを開始する。
　　　学習時間は「時間分秒」形式で表示する。
　　　初期画面（TOPページ）と学習画面の両方に学習時間を表示する。
　　　アプリ終了（ブラウザ終了またはページ再読み込み）までリセットしない。
　(7)No.1から出題開始。Questionを表示し、ストップウォッチをカウント開始。
　　　セクションラベルは、スプレッドシートのQ_Title列とA_Title列の値を動的に表示する。
　　　ストップウォッチは分:秒:ミリ秒とする。
　　　ストップウォッチの更新頻度は、10ミリ秒（0.01秒）とする。
　　　Answerボタン内にストップウォッチを表示する。
　　　Answerボタンを押すまでAnswerとnoteは表示しない。
　　　Answerボタンが押されるまで、ナビゲーションボタン（前へ/次へ）は無効化される。
　　　スプレッドシートのQuestion列に改行がある場合、改行を保持して表示する。
　(8)Answerボタンを押したらストップウォッチ停止。停止時間を回答テキストの下に表示する。
　　　停止時間は分:秒:ミリ秒形式でテキスト表示する（背景透明）。
　　　Answerとnoteを表示する。
　　　Answerテキストは青文字、太文字で表示する。
　　　Answerボタン押下前（黒背景）と押下後（白背景）の高さは揃える。
　　　スプレッドシートのAnswer列またはnote列に改行がある場合、改行を保持して表示する。
　　　再生ボタンでAnswerを読み上げる。
　　　読み上げは、ブラウザのWeb Speech API（無料、オフライン可）を使用。
　　　Answerボタンが押された後は、ナビゲーションボタン（前へ/次へ）が有効化される。
　　　学習画面のコンテンツエリア（learning-content）は縦スクロール可能とする。
　　　ナビゲーションバー（前へ/次へ/ホームボタン）は画面下端に固定表示し、スクロールしても常に表示される。
　　　サンプル：画面4.png
　(9)>ボタンで次のNoを出題。ストップウォッチはリセットしてカウント。
　　　学習時間はリセットしない。
　　　カテゴリの最終Noの出題の場合は>ボタンを表示しない。
　　　>ボタンは画面中央から右に30pxの位置に配置する。
　(10)<ボタンの場合は一つ前のNoに戻る。No.1の場合は<ボタンは表示しない。
　　　<ボタンは画面中央から左に30pxの位置に配置する。
　(11)ホームボタンを押したら初期画面に戻る。学習時間はリセットしない。
・使用素材
　- 背景：bg.jpg
　- 再生ボタン：play-button.png
　- >ボタン：arrow.png
　- <ボタン>：arrow.png
　- ホームボタン：home.png
・エラー処理
　- スプレッドシートへのアクセスエラー時は、「アクセスエラー」と表示
　- データが空の場合は、「データがありません」と表示
・レスポンシブデザイン
　- 画面幅に応じてフォントサイズを動的に調整する。
　- 画面幅のブレークポイントは以下の通り。
　　・320px以下：最小サイズの画面
　　・375px以下：非常に小さい画面
　　・480px以下：小さい画面
　　・480px超：通常サイズの画面
　- 調整対象の要素は以下の通り。
　　・タイトル、セクションラベル、選択ボックス、日本語テキスト、英語テキスト、
　　　ノートテキスト、学習時間、質問情報、ストップウォッチ、STARTボタン
　- 初期画面と学習画面で異なるフォントサイズを設定する。
　- 画面幅の変更時（リサイズ時）にも自動的にフォントサイズを再調整する。


■ アプリ使用環境
・スマホを想定
・縦画面のみ

